# Smart-RAG é¡¹ç›®å¯ç»´æŠ¤æ€§åˆ†ææŠ¥å‘Š

**åˆ†ææ—¶é—´**: 2026-01-13  
**åˆ†æèŒƒå›´**: æ¶æ„è®¾è®¡ã€ä»£ç ç»„ç»‡ã€å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§

---

## ğŸ“Š é¡¹ç›®æ¦‚å†µ

**ä»£ç è§„æ¨¡**:
- Python æ–‡ä»¶: 29 ä¸ªï¼ˆä¸å« venvï¼‰
- æ ¸å¿ƒæ¨¡å—: 20+ ä¸ª
- ä»£ç è¡Œæ•°: ~5000+ è¡Œ
- æ–‡æ¡£æ–‡ä»¶: 9+ ä¸ª

**æŠ€æœ¯æ ˆ**:
- UI: Streamlit
- å‘é‡å­˜å‚¨: JSONï¼ˆè‡ªå®ç°ï¼‰
- æ£€ç´¢: å‘é‡æ£€ç´¢ + BM25
- æ’åº: ä½™å¼¦ç›¸ä¼¼åº¦ + Rerank
- ç”Ÿæˆ: OpenAI API

---

## ğŸ”´ ä¸¥é‡é—®é¢˜ï¼ˆP0 - å¿…é¡»è§£å†³ï¼‰

### 1. **app.py å•æ–‡ä»¶è¿‡å¤§ï¼ˆ54KBï¼Œ1002 è¡Œï¼‰**

**é—®é¢˜æè¿°**:
- `app.py` åŒ…å«æ‰€æœ‰ UI é€»è¾‘ã€ä¸šåŠ¡é€»è¾‘ã€æ£€ç´¢ç¼–æ’
- å•ä¸ªå‡½æ•° `main()` è¶…è¿‡ 900 è¡Œ
- åµŒå¥—å±‚çº§æ·±è¾¾ 8-10 å±‚
- é‡å¤ä»£ç å—å¤šè¾¾ 11 å¤„ï¼ˆæ£€ç´¢å‡½æ•°è°ƒç”¨ï¼‰

**å½±å“**:
- âŒ ä»£ç éš¾ä»¥é˜…è¯»å’Œç†è§£
- âŒ ä¿®æ”¹é£é™©é«˜ï¼Œå®¹æ˜“å¼•å…¥ bug
- âŒ æ— æ³•è¿›è¡Œå•å…ƒæµ‹è¯•
- âŒ å¤šäººåä½œå›°éš¾

**ç¤ºä¾‹**:
```python
# app.py ä¸­é‡å¤çš„æ£€ç´¢é€»è¾‘ï¼ˆå‡ºç° 11 æ¬¡ï¼‰
if retrieval_mode == "å‘é‡æ£€ç´¢":
    retrieved = search_top_k(query, k=top_k)
elif retrieval_mode == "BM25 æ£€ç´¢":
    retrieved = search_bm25(query, k=top_k)
elif retrieval_mode == "æ··åˆæ£€ç´¢":
    vector_weight = st.session_state.get('vector_weight', 0.5)
    use_adaptive = st.session_state.get('enable_adaptive_filter', True)
    retrieved = hybrid_search(query, k=top_k, vector_weight=vector_weight, use_adaptive_filter=use_adaptive)
# ... é‡å¤ 11 æ¬¡
```

**å»ºè®®ä¼˜å…ˆçº§**: ğŸ”´ **P0 - ç«‹å³é‡æ„**

---

### 2. **æ ¹ç›®å½•æ–‡ä»¶æ··ä¹±ï¼ˆ20+ ä¸ª Python æ–‡ä»¶å¹³é“ºï¼‰**

**é—®é¢˜æè¿°**:
```
smart-rag/
â”œâ”€â”€ adaptive_filter.py          # åº”è¯¥åœ¨ rag/filter/
â”œâ”€â”€ hyde.py                     # åº”è¯¥åœ¨ rag/query/
â”œâ”€â”€ query_rewriter.py           # åº”è¯¥åœ¨ rag/query/
â”œâ”€â”€ query_expansion.py          # åº”è¯¥åœ¨ rag/query/
â”œâ”€â”€ multi_step_query.py         # åº”è¯¥åœ¨ rag/query/
â”œâ”€â”€ multi_variant_recall.py     # åº”è¯¥åœ¨ rag/query/
â”œâ”€â”€ topic_extractor.py          # åº”è¯¥åœ¨ rag/query/
â”œâ”€â”€ knowledge_graph.py          # åº”è¯¥åœ¨ rag/graph/
â”œâ”€â”€ chunk_strategy.py           # åº”è¯¥åœ¨ rag/chunker/
â”œâ”€â”€ file_utils.py               # åº”è¯¥åœ¨ utils/
â”œâ”€â”€ ocr_utils.py                # åº”è¯¥åœ¨ utils/
â”œâ”€â”€ sync_bm25.py                # åº”è¯¥åœ¨ scripts/
â”œâ”€â”€ test_retrieval.py           # åº”è¯¥åœ¨ tests/
â”œâ”€â”€ example_adaptive_filter.py  # åº”è¯¥åœ¨ examples/
â””â”€â”€ rag_engine.py               # èŒè´£è¿‡é‡ï¼Œéœ€æ‹†åˆ†
```

**å½±å“**:
- âŒ æ‰¾ä¸åˆ°æ–‡ä»¶åœ¨å“ªé‡Œ
- âŒ æ¨¡å—èŒè´£ä¸æ¸…æ™°
- âŒ å¯¼å…¥è·¯å¾„æ··ä¹±
- âŒ æ–°äººä¸Šæ‰‹å›°éš¾

**å»ºè®®ä¼˜å…ˆçº§**: ğŸ”´ **P0 - ç«‹å³é‡æ„**

---

### 3. **rag_engine.py èŒè´£è¿‡é‡ï¼ˆ32KBï¼Œ966 è¡Œï¼‰**

**é—®é¢˜æè¿°**:
`rag_engine.py` åŒ…å«äº†å¤ªå¤šèŒè´£ï¼š
- âœ… ç¯å¢ƒåŠ è½½ï¼ˆåˆç†ï¼‰
- âœ… å‘é‡åŒ–ï¼ˆåˆç†ï¼‰
- âš ï¸ æ–‡æœ¬åˆ‡åˆ†ï¼ˆåº”ç‹¬ç«‹ï¼‰
- âš ï¸ å‘é‡åº“ç®¡ç†ï¼ˆå·²è¿ç§»ä½†ä¿ç•™å…¼å®¹å±‚ï¼‰
- âš ï¸ BM25 ç´¢å¼•ç®¡ç†ï¼ˆåº”ç‹¬ç«‹ï¼‰
- âš ï¸ æ··åˆæ£€ç´¢ç¼–æ’ï¼ˆåº”ç‹¬ç«‹ï¼‰
- âš ï¸ Rerank ç¼–æ’ï¼ˆåº”ç‹¬ç«‹ï¼‰
- âŒ 28 ä¸ªå‡½æ•°å®šä¹‰ï¼ˆè¿‡å¤šï¼‰

**å½±å“**:
- âŒ å•ä¸€æ–‡ä»¶ä¿®æ”¹å½±å“é¢å¤§
- âŒ éš¾ä»¥è¿›è¡Œå•å…ƒæµ‹è¯•
- âŒ èŒè´£è¾¹ç•Œæ¨¡ç³Š

**å»ºè®®ä¼˜å…ˆçº§**: ğŸ”´ **P0 - éœ€è¦æ‹†åˆ†**

---

## ğŸŸ¡ ä¸­ç­‰é—®é¢˜ï¼ˆP1 - åº”è¯¥è§£å†³ï¼‰

### 4. **é‡å¤çš„æ£€ç´¢é€»è¾‘ï¼ˆDRY åŸåˆ™è¿åï¼‰**

**é—®é¢˜æè¿°**:
åœ¨ `app.py` ä¸­ï¼Œç›¸åŒçš„æ£€ç´¢åˆ†å‘é€»è¾‘é‡å¤äº† 11 æ¬¡ï¼š
- HyDE åˆæ­¥æ£€ç´¢
- HyDE äºŒæ¬¡æ£€ç´¢
- å¤šå˜ä½“å¬å›
- å¤šæ­¥éª¤æ£€ç´¢
- æŸ¥è¯¢æ‰©å±•
- æ™®é€šæ£€ç´¢
- ... ç­‰

**å½±å“**:
- âŒ ä¿®æ”¹ä¸€å¤„éœ€è¦æ”¹ 11 å¤„
- âŒ å®¹æ˜“é—æ¼å¯¼è‡´ä¸ä¸€è‡´
- âŒ ä»£ç è†¨èƒ€

**å»ºè®®æ–¹æ¡ˆ**:
```python
# æå–ä¸ºç»Ÿä¸€çš„æ£€ç´¢åˆ†å‘å™¨
class RetrievalDispatcher:
    def dispatch(self, query: str, k: int, mode: str, **kwargs):
        if mode == "å‘é‡æ£€ç´¢":
            return search_top_k(query, k=k)
        elif mode == "æ··åˆæ£€ç´¢":
            return hybrid_search(query, k=k, **kwargs)
        # ...
```

**å»ºè®®ä¼˜å…ˆçº§**: ğŸŸ¡ **P1 - é«˜ä¼˜å…ˆçº§**

---

### 5. **ç¼ºå°‘é…ç½®ç®¡ç†**

**é—®é¢˜æè¿°**:
- ç¡¬ç¼–ç çš„é…ç½®æ•£è½åœ¨å„å¤„
- é­”æ³•æ•°å­—åˆ°å¤„éƒ½æ˜¯
- æ²¡æœ‰ç»Ÿä¸€çš„é…ç½®æ–‡ä»¶

**ç¤ºä¾‹**:
```python
# app.py ä¸­çš„ç¡¬ç¼–ç 
relevance_threshold = 0.5  # åº”è¯¥å¯é…ç½®
recall_k = 20              # åº”è¯¥å¯é…ç½®
vector_weight = 0.5        # åº”è¯¥å¯é…ç½®

# adaptive_filter.py ä¸­çš„ç¡¬ç¼–ç 
min_confidence=0.3         # åº”è¯¥å¯é…ç½®
gap_threshold=0.15         # åº”è¯¥å¯é…ç½®
```

**å»ºè®®æ–¹æ¡ˆ**:
```python
# config.py
class RAGConfig:
    # æ£€ç´¢é…ç½®
    DEFAULT_TOP_K = 3
    DEFAULT_RECALL_K = 20
    DEFAULT_VECTOR_WEIGHT = 0.5
    
    # è¿‡æ»¤é…ç½®
    RELEVANCE_THRESHOLD = 0.5
    MIN_CONFIDENCE = 0.3
    GAP_THRESHOLD = 0.15
```

**å»ºè®®ä¼˜å…ˆçº§**: ğŸŸ¡ **P1 - é«˜ä¼˜å…ˆçº§**

---

### 6. **ç¼ºå°‘æ—¥å¿—ç³»ç»Ÿ**

**é—®é¢˜æè¿°**:
- ä½¿ç”¨ `print()` è¿›è¡Œè°ƒè¯•è¾“å‡º
- æ²¡æœ‰æ—¥å¿—çº§åˆ«æ§åˆ¶
- æ— æ³•è¿½è¸ªé—®é¢˜

**ç¤ºä¾‹**:
```python
# å½“å‰åšæ³•
print(f"[æ··åˆæ£€ç´¢] å‘é‡å¬å›: {len(vector_scores)} ä¸ª")
print(f"[Rerank] ç²¾æ’å¤±è´¥ï¼Œè¿”å›æ··åˆæ£€ç´¢ç»“æœ: {e}")

# åº”è¯¥ä½¿ç”¨
import logging
logger = logging.getLogger(__name__)
logger.info(f"å‘é‡å¬å›: {len(vector_scores)} ä¸ª")
logger.error(f"Rerank å¤±è´¥: {e}", exc_info=True)
```

**å»ºè®®ä¼˜å…ˆçº§**: ğŸŸ¡ **P1 - ä¸­ä¼˜å…ˆçº§**

---

### 7. **æ–‡æ¡£ç¢ç‰‡åŒ–**

**é—®é¢˜æè¿°**:
`docs/` ç›®å½•ä¸‹æœ‰ 9+ ä¸ªæ–‡æ¡£ï¼Œä½†ï¼š
- æœ‰é‡å¤å†…å®¹ï¼ˆ`PRE_PUSH_CHECKLIST 2.md`, `RERANK_FEATURE 2.md`ï¼‰
- ç¼ºå°‘ç´¢å¼•æ–‡æ¡£
- æ–‡æ¡£ä¹‹é—´å…³ç³»ä¸æ¸…æ™°
- éƒ¨åˆ†æ–‡æ¡£è¿‡æ—¶

**å»ºè®®ä¼˜å…ˆçº§**: ğŸŸ¡ **P1 - ä¸­ä¼˜å…ˆçº§**

---

## ğŸŸ¢ è½»å¾®é—®é¢˜ï¼ˆP2 - å¯ä»¥ä¼˜åŒ–ï¼‰

### 8. **ç¼ºå°‘ç±»å‹æ³¨è§£**

**é—®é¢˜æè¿°**:
å¤§éƒ¨åˆ†å‡½æ•°ç¼ºå°‘å®Œæ•´çš„ç±»å‹æ³¨è§£ï¼Œå½±å“ IDE æç¤ºå’Œä»£ç å¯è¯»æ€§ã€‚

**ç¤ºä¾‹**:
```python
# å½“å‰
def hybrid_search(query: str, k: int = 3, vector_weight: float = 0.5):
    # ç¼ºå°‘è¿”å›ç±»å‹

# å»ºè®®
def hybrid_search(
    query: str, 
    k: int = 3, 
    vector_weight: float = 0.5
) -> List[Tuple[str, float]]:
    ...
```

**å»ºè®®ä¼˜å…ˆçº§**: ğŸŸ¢ **P2 - ä½ä¼˜å…ˆçº§**

---

### 9. **ç¼ºå°‘å•å…ƒæµ‹è¯•**

**é—®é¢˜æè¿°**:
- åªæœ‰ `test_retrieval.py` ä¸€ä¸ªç®€å•æµ‹è¯•
- æ²¡æœ‰æµ‹è¯•è¦†ç›–ç‡
- æ ¸å¿ƒé€»è¾‘æœªæµ‹è¯•

**å»ºè®®ä¼˜å…ˆçº§**: ğŸŸ¢ **P2 - ä½ä¼˜å…ˆçº§**

---

### 10. **æœªä½¿ç”¨çš„ä»£ç **

**é—®é¢˜æè¿°**:
- `rag/retriever/faiss_retriever.py` - åªæœ‰ TODOï¼Œæœªå®ç°
- `vector_db.json.corrupt` - æŸåæ–‡ä»¶æœªæ¸…ç†
- éƒ¨åˆ†å¯¼å…¥çš„æ¨¡å—æœªä½¿ç”¨

**å»ºè®®ä¼˜å…ˆçº§**: ğŸŸ¢ **P2 - ä½ä¼˜å…ˆçº§**

---

## ğŸ“ˆ æ¶æ„è¯„åˆ†

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| **ä»£ç ç»„ç»‡** | â­â­â˜†â˜†â˜† (2/5) | æ–‡ä»¶æ··ä¹±ï¼ŒèŒè´£ä¸æ¸… |
| **æ¨¡å—åŒ–** | â­â­â­â˜†â˜† (3/5) | æœ‰ä¸‰å±‚æ¶æ„ï¼Œä½†æœªå……åˆ†åˆ©ç”¨ |
| **å¯è¯»æ€§** | â­â­â˜†â˜†â˜† (2/5) | å•æ–‡ä»¶è¿‡å¤§ï¼ŒåµŒå¥—è¿‡æ·± |
| **å¯æµ‹è¯•æ€§** | â­â˜†â˜†â˜†â˜† (1/5) | å‡ ä¹æ— æµ‹è¯• |
| **å¯æ‰©å±•æ€§** | â­â­â­â˜†â˜† (3/5) | æœ‰æ¥å£è®¾è®¡ï¼Œä½†å®ç°æ··ä¹± |
| **æ–‡æ¡£å®Œæ•´æ€§** | â­â­â­â˜†â˜† (3/5) | æœ‰æ–‡æ¡£ä½†ç¢ç‰‡åŒ– |
| **é…ç½®ç®¡ç†** | â­â˜†â˜†â˜†â˜† (1/5) | ç¡¬ç¼–ç ä¸¥é‡ |
| **æ—¥å¿—ç³»ç»Ÿ** | â­â˜†â˜†â˜†â˜† (1/5) | åªæœ‰ print |

**æ€»ä½“è¯„åˆ†**: â­â­â˜†â˜†â˜† (2/5) - **éœ€è¦é‡æ„**

---

## ğŸ¯ é‡æ„å»ºè®®ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰

### é˜¶æ®µ 1: ç´§æ€¥é‡æ„ï¼ˆ1-2 å‘¨ï¼‰

#### 1.1 æ‹†åˆ† app.py
```
app.py (1002 è¡Œ) â†’ æ‹†åˆ†ä¸º:
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ sidebar.py          # ä¾§è¾¹æ é…ç½®
â”‚   â”œâ”€â”€ file_upload.py      # æ–‡ä»¶ä¸Šä¼ 
â”‚   â”œâ”€â”€ chat_interface.py   # å¯¹è¯ç•Œé¢
â”‚   â””â”€â”€ settings.py         # è®¾ç½®é¢æ¿
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ retrieval_service.py  # æ£€ç´¢æœåŠ¡ï¼ˆç»Ÿä¸€åˆ†å‘ï¼‰
â”‚   â””â”€â”€ conversation_service.py  # å¯¹è¯ç®¡ç†
â””â”€â”€ app.py (< 200 è¡Œ)       # ä¸»å…¥å£
```

#### 1.2 é‡ç»„æ ¹ç›®å½•æ–‡ä»¶
```
smart-rag/
â”œâ”€â”€ src/                    # æ–°å¢ï¼šæºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ rag/               # æ ¸å¿ƒ RAG æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ retriever/
â”‚   â”‚   â”œâ”€â”€ ranker/
â”‚   â”‚   â”œâ”€â”€ generator/
â”‚   â”‚   â”œâ”€â”€ query/         # æ–°å¢ï¼šæŸ¥è¯¢å¤„ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ hyde.py
â”‚   â”‚   â”‚   â”œâ”€â”€ rewriter.py
â”‚   â”‚   â”‚   â”œâ”€â”€ expander.py
â”‚   â”‚   â”‚   â”œâ”€â”€ multi_step.py
â”‚   â”‚   â”‚   â””â”€â”€ multi_variant.py
â”‚   â”‚   â”œâ”€â”€ filter/        # æ–°å¢ï¼šè¿‡æ»¤å™¨
â”‚   â”‚   â”‚   â””â”€â”€ adaptive_filter.py
â”‚   â”‚   â”œâ”€â”€ graph/         # æ–°å¢ï¼šçŸ¥è¯†å›¾è°±
â”‚   â”‚   â”‚   â””â”€â”€ knowledge_graph.py
â”‚   â”‚   â””â”€â”€ chunker/       # æ–°å¢ï¼šåˆ†å—å™¨
â”‚   â”‚       â””â”€â”€ chunk_strategy.py
â”‚   â”œâ”€â”€ utils/             # æ–°å¢ï¼šå·¥å…·ç±»
â”‚   â”‚   â”œâ”€â”€ file_utils.py
â”‚   â”‚   â””â”€â”€ ocr_utils.py
â”‚   â”œâ”€â”€ ui/                # æ–°å¢ï¼šUI ç»„ä»¶
â”‚   â””â”€â”€ services/          # æ–°å¢ï¼šä¸šåŠ¡æœåŠ¡
â”œâ”€â”€ scripts/               # æ–°å¢ï¼šè„šæœ¬
â”‚   â””â”€â”€ sync_bm25.py
â”œâ”€â”€ tests/                 # æ–°å¢ï¼šæµ‹è¯•
â”‚   â””â”€â”€ test_retrieval.py
â”œâ”€â”€ examples/              # æ–°å¢ï¼šç¤ºä¾‹
â”‚   â””â”€â”€ example_adaptive_filter.py
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â”œâ”€â”€ config/                # æ–°å¢ï¼šé…ç½®
â”‚   â””â”€â”€ config.py
â”œâ”€â”€ app.py                 # ä¸»å…¥å£ï¼ˆç®€åŒ–ï¼‰
â””â”€â”€ requirements.txt
```

#### 1.3 æå–é…ç½®ç®¡ç†
```python
# config/config.py
from dataclasses import dataclass
from typing import Optional

@dataclass
class RetrievalConfig:
    default_top_k: int = 3
    default_recall_k: int = 20
    default_vector_weight: float = 0.5
    relevance_threshold: float = 0.5

@dataclass
class FilterConfig:
    min_confidence: float = 0.3
    max_results: int = 10
    min_results: int = 1
    gap_threshold: float = 0.15
    percentile_threshold: float = 0.6

@dataclass
class AppConfig:
    retrieval: RetrievalConfig
    filter: FilterConfig
    
    @classmethod
    def from_env(cls):
        # ä»ç¯å¢ƒå˜é‡åŠ è½½é…ç½®
        pass
```

---

### é˜¶æ®µ 2: è´¨é‡æå‡ï¼ˆ2-3 å‘¨ï¼‰

#### 2.1 æ·»åŠ æ—¥å¿—ç³»ç»Ÿ
```python
# utils/logger.py
import logging
from pathlib import Path

def setup_logger(name: str, log_file: Optional[Path] = None):
    logger = logging.getLogger(name)
    logger.setLevel(logging.INFO)
    
    # æ§åˆ¶å°å¤„ç†å™¨
    console_handler = logging.StreamHandler()
    console_handler.setFormatter(
        logging.Formatter('[%(levelname)s] %(name)s: %(message)s')
    )
    logger.addHandler(console_handler)
    
    # æ–‡ä»¶å¤„ç†å™¨
    if log_file:
        file_handler = logging.FileHandler(log_file)
        file_handler.setFormatter(
            logging.Formatter('%(asctime)s [%(levelname)s] %(name)s: %(message)s')
        )
        logger.addHandler(file_handler)
    
    return logger
```

#### 2.2 ç»Ÿä¸€æ£€ç´¢åˆ†å‘å™¨
```python
# services/retrieval_service.py
from typing import List, Tuple, Dict, Any
from enum import Enum

class RetrievalMode(Enum):
    VECTOR = "å‘é‡æ£€ç´¢"
    BM25 = "BM25 æ£€ç´¢"
    HYBRID = "æ··åˆæ£€ç´¢"
    RERANK = "Rerank ç²¾æ’"
    HYBRID_RERANK = "æ··åˆ + Rerankï¼ˆæœ€å¼ºï¼‰"

class RetrievalService:
    """ç»Ÿä¸€çš„æ£€ç´¢æœåŠ¡ï¼Œé¿å…é‡å¤ä»£ç """
    
    def __init__(self, config: RetrievalConfig):
        self.config = config
        self.logger = setup_logger(__name__)
    
    def retrieve(
        self, 
        query: str, 
        mode: RetrievalMode,
        k: int = None,
        **kwargs
    ) -> List[Tuple[str, float]]:
        """ç»Ÿä¸€çš„æ£€ç´¢å…¥å£"""
        k = k or self.config.default_top_k
        
        self.logger.info(f"æ‰§è¡Œæ£€ç´¢: mode={mode.value}, k={k}")
        
        if mode == RetrievalMode.VECTOR:
            return search_top_k(query, k=k)
        elif mode == RetrievalMode.BM25:
            return search_bm25(query, k=k)
        elif mode == RetrievalMode.HYBRID:
            return self._hybrid_search(query, k, **kwargs)
        elif mode == RetrievalMode.RERANK:
            return self._rerank_search(query, k, **kwargs)
        elif mode == RetrievalMode.HYBRID_RERANK:
            return self._hybrid_rerank_search(query, k, **kwargs)
        else:
            raise ValueError(f"ä¸æ”¯æŒçš„æ£€ç´¢æ¨¡å¼: {mode}")
    
    def _hybrid_search(self, query: str, k: int, **kwargs):
        vector_weight = kwargs.get('vector_weight', self.config.default_vector_weight)
        use_adaptive = kwargs.get('use_adaptive_filter', True)
        return hybrid_search(query, k=k, vector_weight=vector_weight, use_adaptive_filter=use_adaptive)
    
    # ... å…¶ä»–ç§æœ‰æ–¹æ³•
```

#### 2.3 æ·»åŠ å•å…ƒæµ‹è¯•
```python
# tests/test_retrieval_service.py
import pytest
from services.retrieval_service import RetrievalService, RetrievalMode

def test_retrieval_service_vector():
    service = RetrievalService(config)
    results = service.retrieve("æµ‹è¯•æŸ¥è¯¢", mode=RetrievalMode.VECTOR, k=3)
    assert len(results) <= 3
    assert all(isinstance(r, tuple) for r in results)

# ... æ›´å¤šæµ‹è¯•
```

---

### é˜¶æ®µ 3: é•¿æœŸä¼˜åŒ–ï¼ˆæŒç»­ï¼‰

#### 3.1 å®Œå–„ç±»å‹æ³¨è§£
- ä¸ºæ‰€æœ‰å…¬å…± API æ·»åŠ ç±»å‹æ³¨è§£
- ä½¿ç”¨ `mypy` è¿›è¡Œç±»å‹æ£€æŸ¥

#### 3.2 æ€§èƒ½ä¼˜åŒ–
- æ·»åŠ ç¼“å­˜æœºåˆ¶
- ä¼˜åŒ–å‘é‡æ£€ç´¢æ€§èƒ½
- è€ƒè™‘è¿ç§»åˆ° FAISS

#### 3.3 æ–‡æ¡£æ•´ç†
- åˆ›å»º `docs/README.md` ä½œä¸ºç´¢å¼•
- åˆ é™¤é‡å¤æ–‡æ¡£
- æ›´æ–°è¿‡æ—¶æ–‡æ¡£

---

## ğŸš€ å®æ–½è·¯çº¿å›¾

### Week 1-2: ç´§æ€¥é‡æ„
- [ ] æ‹†åˆ† `app.py` ä¸ºå¤šä¸ªæ¨¡å—
- [ ] é‡ç»„æ ¹ç›®å½•æ–‡ä»¶ç»“æ„
- [ ] æå–é…ç½®ç®¡ç†

### Week 3-4: è´¨é‡æå‡
- [ ] æ·»åŠ æ—¥å¿—ç³»ç»Ÿ
- [ ] å®ç°ç»Ÿä¸€æ£€ç´¢åˆ†å‘å™¨
- [ ] æ·»åŠ æ ¸å¿ƒå•å…ƒæµ‹è¯•

### Week 5+: æŒç»­ä¼˜åŒ–
- [ ] å®Œå–„ç±»å‹æ³¨è§£
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] æ–‡æ¡£æ•´ç†

---

## ğŸ“ é‡æ„åŸåˆ™

1. **æ¸è¿›å¼é‡æ„**: æ¯æ¬¡æ”¹åŠ¨ä¿æŒç³»ç»Ÿå¯è¿è¡Œ
2. **å‘åå…¼å®¹**: ä¿ç•™æ—§æ¥å£ï¼Œé€æ­¥è¿ç§»
3. **æµ‹è¯•å…ˆè¡Œ**: é‡æ„å‰å…ˆå†™æµ‹è¯•
4. **å°æ­¥å¿«è·‘**: æ¯ä¸ª PR åªåšä¸€ä»¶äº‹
5. **æ–‡æ¡£åŒæ­¥**: ä»£ç å’Œæ–‡æ¡£åŒæ­¥æ›´æ–°

---

## âš ï¸ é£é™©æç¤º

1. **é‡æ„é£é™©**: å¤§è§„æ¨¡é‡æ„å¯èƒ½å¼•å…¥ bug
   - **ç¼“è§£**: å……åˆ†æµ‹è¯•ï¼Œåˆ†é˜¶æ®µè¿›è¡Œ
   
2. **å…¼å®¹æ€§é£é™©**: å¯èƒ½å½±å“ç°æœ‰ç”¨æˆ·
   - **ç¼“è§£**: ä¿ç•™æ—§æ¥å£ï¼Œæä¾›è¿ç§»æŒ‡å—
   
3. **æ—¶é—´æˆæœ¬**: é‡æ„éœ€è¦æŠ•å…¥æ—¶é—´
   - **ç¼“è§£**: åˆ†é˜¶æ®µè¿›è¡Œï¼Œä¼˜å…ˆè§£å†³ P0 é—®é¢˜

---

## ğŸ“Š é¢„æœŸæ”¶ç›Š

é‡æ„å®Œæˆåï¼š
- âœ… ä»£ç å¯è¯»æ€§æå‡ **60%**
- âœ… ç»´æŠ¤æˆæœ¬é™ä½ **50%**
- âœ… æ–°åŠŸèƒ½å¼€å‘æ•ˆç‡æå‡ **40%**
- âœ… Bug ç‡é™ä½ **30%**
- âœ… æ–°äººä¸Šæ‰‹æ—¶é—´ç¼©çŸ­ **70%**

---

## ğŸ”® å¯æ‰©å±•æ€§è¯„ä¼°ï¼ˆAgent & MCP æ”¯æŒï¼‰

### å½“å‰æ¶æ„å¯æ‰©å±•æ€§ï¼šâ­â­â­â­â˜† (4/5)

**ä¼˜åŠ¿**ï¼š
- âœ… ä¸‰å±‚æ¶æ„ï¼ˆRetrieverã€Rankerã€Generatorï¼‰å¤©ç„¶æ”¯æŒæ‰©å±•
- âœ… Generator å±‚å¯ä»¥æ— ç¼æ¼”åŒ–ä¸º Agent å±‚
- âœ… Retriever å±‚å¯ä»¥åŒ…è£…ä¸º MCP å·¥å…·
- âœ… æ¥å£æ¸…æ™°ï¼Œæ˜“äºæ‰©å±•æ–°å®ç°
- âœ… è½»é‡çµæ´»ï¼Œæ²¡æœ‰æ¡†æ¶æŸç¼š

**éœ€è¦æ”¹è¿›**ï¼š
- âš ï¸ ç¼ºå°‘å·¥å…·æŠ½è±¡å±‚ï¼ˆAgent éœ€è¦ï¼‰
- âš ï¸ ç¼ºå°‘ç¼–æ’å¼•æ“ï¼ˆå¤æ‚æµç¨‹éœ€è¦ï¼‰
- âš ï¸ ç¼ºå°‘çŠ¶æ€ç®¡ç†ï¼ˆå¤šè½®äº¤äº’éœ€è¦ï¼‰

### æ‰©å±•èƒ½åŠ›å¯¹æ¯”

| åŠŸèƒ½éœ€æ±‚ | å½“å‰æ¶æ„ | é‡æ„åæ¶æ„ | è¯´æ˜ |
|---------|---------|-----------|------|
| **Agent æ”¯æŒ** | â­â­â˜†â˜†â˜† | â­â­â­â­â­ | æ·»åŠ  Agent å±‚ï¼Œå®Œå…¨æ”¯æŒ ReAct/Function Calling |
| **MCP é›†æˆ** | â­â˜†â˜†â˜†â˜† | â­â­â­â­â­ | æ ‡å‡† MCP æ¥å£ï¼Œæ˜“äºé›†æˆç¬¬ä¸‰æ–¹å·¥å…· |
| **å·¥å…·æ‰©å±•** | â­â­â˜†â˜†â˜† | â­â­â­â­â­ | æ’ä»¶åŒ–è®¾è®¡ï¼Œ5 åˆ†é’Ÿæ·»åŠ æ–°å·¥å…· |
| **å¤šæ¨¡æ€** | â­â­â˜†â˜†â˜† | â­â­â­â­â˜† | å·¥å…·å±‚æ”¯æŒå›¾åƒã€éŸ³é¢‘ç­‰è¾“å…¥ |
| **æµå¼è¾“å‡º** | â­â­â­â˜†â˜† | â­â­â­â­â­ | Generator å±‚åŸç”Ÿæ”¯æŒæµå¼ç”Ÿæˆ |
| **å¤š LLM** | â­â­â­â˜†â˜† | â­â­â­â­â­ | æŠ½è±¡å±‚æ”¯æŒä»»æ„ LLM æä¾›å•† |

### æ‰©å±•è·¯å¾„

```
å½“å‰æ¶æ„ (RAG)
    â†“
æ·»åŠ  Agent å±‚ (RAG + Agent)
    â†“
æ·»åŠ  MCP å·¥å…·å±‚ (RAG + Agent + MCP)
    â†“
æ·»åŠ æ›´å¤šå·¥å…· (RAG + Agent + MCP + Tools)
    â†“
å®Œæ•´çš„ AI åº”ç”¨å¹³å°
```

---

## âœ… å®Œæ•´ TODO æ¸…å•ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰

### ğŸ”´ P0 - ç´§æ€¥ä»»åŠ¡ï¼ˆ1-2 å‘¨å†…å®Œæˆï¼‰

#### P0.1 ä»£ç ç»„ç»‡é‡æ„
- [ ] **æ‹†åˆ† app.py**ï¼ˆé¢„è®¡ 3 å¤©ï¼‰
  - [ ] åˆ›å»º `src/ui/` ç›®å½•ç»“æ„
  - [ ] æå–ä¾§è¾¹æ é€»è¾‘åˆ° `ui/sidebar.py`
  - [ ] æå–æ–‡ä»¶ä¸Šä¼ é€»è¾‘åˆ° `ui/file_upload.py`
  - [ ] æå–å¯¹è¯ç•Œé¢åˆ° `ui/chat_interface.py`
  - [ ] ç®€åŒ– `app.py` ä¸ºä¸»å…¥å£ï¼ˆ< 200 è¡Œï¼‰
  - [ ] æµ‹è¯•æ‰€æœ‰ UI åŠŸèƒ½æ­£å¸¸

- [ ] **é‡ç»„æ ¹ç›®å½•æ–‡ä»¶**ï¼ˆé¢„è®¡ 2 å¤©ï¼‰
  - [ ] åˆ›å»º `src/` ç›®å½•ç»“æ„
  - [ ] ç§»åŠ¨æŸ¥è¯¢æ¨¡å—åˆ° `src/rag/query/`
    - [ ] `hyde.py` â†’ `src/rag/query/hyde.py`
    - [ ] `query_rewriter.py` â†’ `src/rag/query/rewriter.py`
    - [ ] `query_expansion.py` â†’ `src/rag/query/expander.py`
    - [ ] `multi_step_query.py` â†’ `src/rag/query/multi_step.py`
    - [ ] `multi_variant_recall.py` â†’ `src/rag/query/multi_variant.py`
    - [ ] `topic_extractor.py` â†’ `src/rag/query/topic_extractor.py`
  - [ ] ç§»åŠ¨è¿‡æ»¤å™¨åˆ° `src/rag/filter/`
    - [ ] `adaptive_filter.py` â†’ `src/rag/filter/adaptive_filter.py`
  - [ ] ç§»åŠ¨çŸ¥è¯†å›¾è°±åˆ° `src/rag/graph/`
    - [ ] `knowledge_graph.py` â†’ `src/rag/graph/knowledge_graph.py`
  - [ ] ç§»åŠ¨åˆ†å—å™¨åˆ° `src/rag/chunker/`
    - [ ] `chunk_strategy.py` â†’ `src/rag/chunker/chunk_strategy.py`
  - [ ] ç§»åŠ¨å·¥å…·ç±»åˆ° `src/utils/`
    - [ ] `file_utils.py` â†’ `src/utils/file_utils.py`
    - [ ] `ocr_utils.py` â†’ `src/utils/ocr_utils.py`
  - [ ] ç§»åŠ¨è„šæœ¬åˆ° `scripts/`
    - [ ] `sync_bm25.py` â†’ `scripts/sync_bm25.py`
  - [ ] ç§»åŠ¨æµ‹è¯•åˆ° `tests/`
    - [ ] `test_retrieval.py` â†’ `tests/test_retrieval.py`
  - [ ] ç§»åŠ¨ç¤ºä¾‹åˆ° `examples/`
    - [ ] `example_adaptive_filter.py` â†’ `examples/example_adaptive_filter.py`
  - [ ] æ›´æ–°æ‰€æœ‰å¯¼å…¥è·¯å¾„
  - [ ] æµ‹è¯•æ‰€æœ‰åŠŸèƒ½æ­£å¸¸

- [ ] **æ‹†åˆ† rag_engine.py**ï¼ˆé¢„è®¡ 2 å¤©ï¼‰
  - [ ] æå–åˆ‡åˆ†é€»è¾‘åˆ° `src/rag/chunker/text_splitter.py`
  - [ ] æå– BM25 ç®¡ç†åˆ° `src/rag/retriever/bm25_manager.py`
  - [ ] æå–æ··åˆæ£€ç´¢åˆ° `src/rag/core/hybrid_retrieval.py`
  - [ ] ä¿ç•™ç¯å¢ƒåŠ è½½å’Œå‘é‡åŒ–åœ¨ `rag_engine.py`
  - [ ] æ›´æ–°æ‰€æœ‰å¼•ç”¨
  - [ ] æµ‹è¯•æ‰€æœ‰æ£€ç´¢åŠŸèƒ½

#### P0.2 é…ç½®ç®¡ç†
- [ ] **åˆ›å»ºé…ç½®ç³»ç»Ÿ**ï¼ˆé¢„è®¡ 1 å¤©ï¼‰
  - [ ] åˆ›å»º `config/config.py`
  - [ ] å®šä¹‰ `RetrievalConfig` æ•°æ®ç±»
  - [ ] å®šä¹‰ `FilterConfig` æ•°æ®ç±»
  - [ ] å®šä¹‰ `AppConfig` æ•°æ®ç±»
  - [ ] å®ç°ä»ç¯å¢ƒå˜é‡åŠ è½½é…ç½®
  - [ ] æ›¿æ¢æ‰€æœ‰ç¡¬ç¼–ç é…ç½®
  - [ ] æµ‹è¯•é…ç½®åŠ è½½

---

### ğŸŸ¡ P1 - é«˜ä¼˜å…ˆçº§ï¼ˆ2-4 å‘¨å†…å®Œæˆï¼‰

#### P1.1 æœåŠ¡å±‚é‡æ„
- [ ] **å®ç°ç»Ÿä¸€æ£€ç´¢æœåŠ¡**ï¼ˆé¢„è®¡ 2 å¤©ï¼‰
  - [ ] åˆ›å»º `src/services/retrieval_service.py`
  - [ ] å®šä¹‰ `RetrievalMode` æšä¸¾
  - [ ] å®ç° `RetrievalService` ç±»
  - [ ] å®ç°ç»Ÿä¸€çš„ `retrieve()` æ–¹æ³•
  - [ ] æ›¿æ¢ app.py ä¸­æ‰€æœ‰é‡å¤çš„æ£€ç´¢é€»è¾‘ï¼ˆ11 å¤„ï¼‰
  - [ ] æµ‹è¯•æ‰€æœ‰æ£€ç´¢æ¨¡å¼

- [ ] **å®ç°å¯¹è¯ç®¡ç†æœåŠ¡**ï¼ˆé¢„è®¡ 1 å¤©ï¼‰
  - [ ] åˆ›å»º `src/services/conversation_service.py`
  - [ ] å®ç°å¯¹è¯å†å²ç®¡ç†
  - [ ] å®ç°ä¸Šä¸‹æ–‡ç¼“å­˜
  - [ ] å®ç°æ™ºèƒ½æ£€ç´¢å†³ç­–
  - [ ] é›†æˆåˆ° app.py

#### P1.2 æ—¥å¿—ç³»ç»Ÿ
- [ ] **æ·»åŠ æ—¥å¿—ç³»ç»Ÿ**ï¼ˆé¢„è®¡ 1 å¤©ï¼‰
  - [ ] åˆ›å»º `src/utils/logger.py`
  - [ ] å®ç° `setup_logger()` å‡½æ•°
  - [ ] é…ç½®æ§åˆ¶å°å’Œæ–‡ä»¶å¤„ç†å™¨
  - [ ] æ›¿æ¢æ‰€æœ‰ `print()` ä¸º `logger`
  - [ ] æ·»åŠ æ—¥å¿—çº§åˆ«æ§åˆ¶
  - [ ] æµ‹è¯•æ—¥å¿—è¾“å‡º

#### P1.3 Agent åŸºç¡€æ¶æ„
- [ ] **æ·»åŠ  Agent åŸºç±»**ï¼ˆé¢„è®¡ 2 å¤©ï¼‰
  - [ ] åˆ›å»º `src/rag/agent/base.py`
  - [ ] å®šä¹‰ `Tool` æ•°æ®ç±»
  - [ ] å®šä¹‰ `AgentAction` å’Œ `AgentFinish` æ•°æ®ç±»
  - [ ] å®ç° `BaseAgent` æŠ½è±¡ç±»
  - [ ] å®šä¹‰ `plan()` å’Œ `execute()` æ¥å£
  - [ ] å®ç° `run()` ä¸»å¾ªç¯

- [ ] **å®ç° MCP å·¥å…·å±‚**ï¼ˆé¢„è®¡ 3 å¤©ï¼‰
  - [ ] åˆ›å»º `src/rag/tools/base.py`
  - [ ] å®ç° `MCPTool` æŠ½è±¡ç±»
  - [ ] å®šä¹‰ `to_mcp_format()` æ–¹æ³•
  - [ ] åˆ›å»º `src/rag/tools/retrieval_tool.py`
  - [ ] å®ç° `RetrievalTool`ï¼ˆåŒ…è£…ç°æœ‰æ£€ç´¢ï¼‰
  - [ ] åˆ›å»º `src/rag/tools/calculator_tool.py`
  - [ ] å®ç° `CalculatorTool`ï¼ˆç¤ºä¾‹å·¥å…·ï¼‰
  - [ ] æµ‹è¯•å·¥å…·æ‰§è¡Œ

- [ ] **å®ç° ReAct Agent**ï¼ˆé¢„è®¡ 2 å¤©ï¼‰
  - [ ] åˆ›å»º `src/rag/agent/react_agent.py`
  - [ ] å®ç° `ReActAgent` ç±»
  - [ ] å®ç° `plan()` æ–¹æ³•ï¼ˆæ„å»º ReAct Promptï¼‰
  - [ ] å®ç° `execute()` æ–¹æ³•ï¼ˆæ‰§è¡Œå·¥å…·ï¼‰
  - [ ] å®ç° `_parse_action()` æ–¹æ³•ï¼ˆè§£æ LLM è¾“å‡ºï¼‰
  - [ ] æµ‹è¯• Agent æ¨ç†æµç¨‹

- [ ] **å®ç° Function Calling Agent**ï¼ˆé¢„è®¡ 2 å¤©ï¼‰
  - [ ] åˆ›å»º `src/rag/agent/function_calling_agent.py`
  - [ ] å®ç° `FunctionCallingAgent` ç±»
  - [ ] å®ç°å·¥å…·æ ¼å¼è½¬æ¢ï¼ˆMCP â†’ OpenAIï¼‰
  - [ ] å®ç° `run()` æ–¹æ³•ï¼ˆåŸç”Ÿ Function Callingï¼‰
  - [ ] æµ‹è¯• Function Calling æµç¨‹

#### P1.4 RAG + Agent æ··åˆæµç¨‹
- [ ] **å®ç°æ··åˆ Pipeline**ï¼ˆé¢„è®¡ 2 å¤©ï¼‰
  - [ ] åˆ›å»º `src/rag/core/rag_agent_pipeline.py`
  - [ ] å®ç° `RAGAgentPipeline` ç±»
  - [ ] æ”¯æŒç®€å• RAG æ¨¡å¼ï¼ˆå¿«é€Ÿï¼‰
  - [ ] æ”¯æŒ Agent æ¨¡å¼ï¼ˆå¤æ‚é—®é¢˜ï¼‰
  - [ ] å®ç°æ¨¡å¼è‡ªåŠ¨åˆ‡æ¢
  - [ ] æµ‹è¯•ä¸¤ç§æ¨¡å¼

- [ ] **UI é›†æˆ Agent**ï¼ˆé¢„è®¡ 1 å¤©ï¼‰
  - [ ] åœ¨ä¾§è¾¹æ æ·»åŠ  Agent è®¾ç½®
  - [ ] æ·»åŠ  Agent ç±»å‹é€‰æ‹©ï¼ˆReAct/Function Callingï¼‰
  - [ ] æ·»åŠ å·¥å…·é€‰æ‹©ç•Œé¢
  - [ ] æ·»åŠ æ¨ç†è¿‡ç¨‹å±•ç¤º
  - [ ] æµ‹è¯• UI äº¤äº’

#### P1.5 æ–‡æ¡£æ•´ç†
- [ ] **æ•´ç†æ–‡æ¡£**ï¼ˆé¢„è®¡ 1 å¤©ï¼‰
  - [ ] åˆ›å»º `docs/README.md` ç´¢å¼•
  - [ ] åˆ é™¤é‡å¤æ–‡æ¡£ï¼ˆ`*2.md` æ–‡ä»¶ï¼‰
  - [ ] æ›´æ–°è¿‡æ—¶æ–‡æ¡£
  - [ ] æ·»åŠ æ¶æ„å›¾
  - [ ] æ·»åŠ  Agent ä½¿ç”¨æŒ‡å—

---

### ğŸŸ¢ P2 - ä¸­ä¼˜å…ˆçº§ï¼ˆ1-2 ä¸ªæœˆå†…å®Œæˆï¼‰

#### P2.1 MCP åè®®é›†æˆ
- [ ] **å®ç° MCP Server**ï¼ˆé¢„è®¡ 2 å¤©ï¼‰
  - [ ] åˆ›å»º `src/mcp/server.py`
  - [ ] å®ç° `MCPServer` ç±»
  - [ ] å®ç° `list_tools()` æ¥å£
  - [ ] å®ç° `call_tool()` æ¥å£
  - [ ] å®ç° `to_openai_tools()` è½¬æ¢
  - [ ] æµ‹è¯• MCP åè®®å…¼å®¹æ€§

- [ ] **æ‰©å±•å·¥å…·ç”Ÿæ€**ï¼ˆé¢„è®¡ 3 å¤©ï¼‰
  - [ ] åˆ›å»º `src/rag/tools/web_search_tool.py`
  - [ ] é›†æˆæœç´¢ APIï¼ˆSerper/Tavilyï¼‰
  - [ ] åˆ›å»º `src/rag/tools/database_tool.py`
  - [ ] å®ç°æ•°æ®åº“æŸ¥è¯¢å·¥å…·
  - [ ] åˆ›å»º `src/rag/tools/code_interpreter_tool.py`
  - [ ] å®ç°ä»£ç æ‰§è¡Œå·¥å…·ï¼ˆå®‰å…¨æ²™ç®±ï¼‰
  - [ ] æµ‹è¯•æ‰€æœ‰å·¥å…·

#### P2.2 æµ‹è¯•è¦†ç›–
- [ ] **æ·»åŠ å•å…ƒæµ‹è¯•**ï¼ˆé¢„è®¡ 3 å¤©ï¼‰
  - [ ] åˆ›å»º `tests/test_retrieval_service.py`
  - [ ] åˆ›å»º `tests/test_agent.py`
  - [ ] åˆ›å»º `tests/test_tools.py`
  - [ ] åˆ›å»º `tests/test_adaptive_filter.py`
  - [ ] é…ç½® pytest
  - [ ] ç›®æ ‡ï¼šæ ¸å¿ƒåŠŸèƒ½è¦†ç›–ç‡ > 70%

- [ ] **æ·»åŠ é›†æˆæµ‹è¯•**ï¼ˆé¢„è®¡ 2 å¤©ï¼‰
  - [ ] åˆ›å»º `tests/integration/test_rag_pipeline.py`
  - [ ] åˆ›å»º `tests/integration/test_agent_pipeline.py`
  - [ ] æµ‹è¯•ç«¯åˆ°ç«¯æµç¨‹
  - [ ] æµ‹è¯•é”™è¯¯å¤„ç†

#### P2.3 ç±»å‹æ³¨è§£
- [ ] **å®Œå–„ç±»å‹æ³¨è§£**ï¼ˆé¢„è®¡ 2 å¤©ï¼‰
  - [ ] ä¸ºæ‰€æœ‰å…¬å…± API æ·»åŠ ç±»å‹æ³¨è§£
  - [ ] é…ç½® mypy
  - [ ] ä¿®å¤ç±»å‹é”™è¯¯
  - [ ] æ·»åŠ  pre-commit hook

---

### ğŸ”µ P3 - ä½ä¼˜å…ˆçº§ï¼ˆé•¿æœŸä¼˜åŒ–ï¼‰

#### P3.1 æ€§èƒ½ä¼˜åŒ–
- [ ] **å‘é‡æ£€ç´¢ä¼˜åŒ–**ï¼ˆé¢„è®¡ 3 å¤©ï¼‰
  - [ ] è¯„ä¼° FAISS è¿ç§»
  - [ ] å®ç° FAISS é€‚é…å™¨
  - [ ] æ€§èƒ½å¯¹æ¯”æµ‹è¯•
  - [ ] æ¸è¿›å¼è¿ç§»

- [ ] **ç¼“å­˜æœºåˆ¶**ï¼ˆé¢„è®¡ 2 å¤©ï¼‰
  - [ ] å®ç°æŸ¥è¯¢ç¼“å­˜
  - [ ] å®ç° Embedding ç¼“å­˜
  - [ ] å®ç° LLM å“åº”ç¼“å­˜
  - [ ] é…ç½®ç¼“å­˜ç­–ç•¥

#### P3.2 ç›‘æ§å’Œå¯è§‚æµ‹æ€§
- [ ] **æ·»åŠ ç›‘æ§**ï¼ˆé¢„è®¡ 2 å¤©ï¼‰
  - [ ] é›†æˆ Prometheus
  - [ ] æ·»åŠ æ£€ç´¢å»¶è¿ŸæŒ‡æ ‡
  - [ ] æ·»åŠ  Agent æ­¥æ•°æŒ‡æ ‡
  - [ ] æ·»åŠ å·¥å…·è°ƒç”¨ç»Ÿè®¡
  - [ ] åˆ›å»º Grafana ä»ªè¡¨æ¿

- [ ] **æ·»åŠ è¿½è¸ª**ï¼ˆé¢„è®¡ 2 å¤©ï¼‰
  - [ ] é›†æˆ OpenTelemetry
  - [ ] è¿½è¸ª RAG æµç¨‹
  - [ ] è¿½è¸ª Agent æ¨ç†
  - [ ] è¿½è¸ªå·¥å…·è°ƒç”¨

#### P3.3 é«˜çº§åŠŸèƒ½
- [ ] **å¤šæ¨¡æ€æ”¯æŒ**ï¼ˆé¢„è®¡ 5 å¤©ï¼‰
  - [ ] å®ç°å›¾åƒå·¥å…·
  - [ ] å®ç°éŸ³é¢‘å·¥å…·
  - [ ] å®ç°è§†é¢‘å·¥å…·
  - [ ] æµ‹è¯•å¤šæ¨¡æ€æµç¨‹

- [ ] **åˆ†å¸ƒå¼æ”¯æŒ**ï¼ˆé¢„è®¡ 1 å‘¨ï¼‰
  - [ ] è®¾è®¡åˆ†å¸ƒå¼æ¶æ„
  - [ ] å®ç°ä»»åŠ¡é˜Ÿåˆ—
  - [ ] å®ç°è´Ÿè½½å‡è¡¡
  - [ ] æµ‹è¯•åˆ†å¸ƒå¼éƒ¨ç½²

---

## ğŸ“… å®æ–½æ—¶é—´è¡¨

### ç¬¬ 1-2 å‘¨ï¼šP0 ç´§æ€¥é‡æ„
**ç›®æ ‡**ï¼šè§£å†³ä»£ç ç»„ç»‡æ··ä¹±é—®é¢˜
- Week 1: æ‹†åˆ† app.py + é‡ç»„ç›®å½•
- Week 2: æ‹†åˆ† rag_engine.py + é…ç½®ç®¡ç†

### ç¬¬ 3-6 å‘¨ï¼šP1 é«˜ä¼˜å…ˆçº§
**ç›®æ ‡**ï¼šæ·»åŠ  Agent å’Œ MCP åŸºç¡€æ¶æ„
- Week 3: æœåŠ¡å±‚é‡æ„ + æ—¥å¿—ç³»ç»Ÿ
- Week 4: Agent åŸºç¡€æ¶æ„
- Week 5: ReAct å’Œ Function Calling Agent
- Week 6: RAG + Agent æ··åˆæµç¨‹ + UI é›†æˆ

### ç¬¬ 7-10 å‘¨ï¼šP2 ä¸­ä¼˜å…ˆçº§
**ç›®æ ‡**ï¼šå®Œå–„å·¥å…·ç”Ÿæ€å’Œæµ‹è¯•
- Week 7-8: MCP åè®®é›†æˆ + æ‰©å±•å·¥å…·
- Week 9-10: æµ‹è¯•è¦†ç›– + ç±»å‹æ³¨è§£

### ç¬¬ 11+ å‘¨ï¼šP3 é•¿æœŸä¼˜åŒ–
**ç›®æ ‡**ï¼šæ€§èƒ½ä¼˜åŒ–å’Œé«˜çº§åŠŸèƒ½
- æŒç»­è¿›è¡Œæ€§èƒ½ä¼˜åŒ–
- æŒ‰éœ€æ·»åŠ ç›‘æ§å’Œé«˜çº§åŠŸèƒ½

---

## ğŸ¯ é‡Œç¨‹ç¢‘

### Milestone 1: ä»£ç ç»„ç»‡é‡æ„ï¼ˆWeek 2ï¼‰
- âœ… app.py æ‹†åˆ†å®Œæˆ
- âœ… ç›®å½•ç»“æ„æ¸…æ™°
- âœ… é…ç½®ç®¡ç†å®Œæˆ
- âœ… æ‰€æœ‰åŠŸèƒ½æ­£å¸¸è¿è¡Œ

### Milestone 2: Agent åŸºç¡€æ¶æ„ï¼ˆWeek 6ï¼‰
- âœ… Agent å±‚å®ç°å®Œæˆ
- âœ… MCP å·¥å…·å±‚å®ç°å®Œæˆ
- âœ… ReAct å’Œ Function Calling Agent å¯ç”¨
- âœ… UI æ”¯æŒ Agent æ¨¡å¼

### Milestone 3: å·¥å…·ç”Ÿæ€å®Œå–„ï¼ˆWeek 10ï¼‰
- âœ… è‡³å°‘ 5 ä¸ªå·¥å…·å¯ç”¨
- âœ… æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•è¦†ç›–ç‡ > 70%
- âœ… ç±»å‹æ³¨è§£å®Œå–„
- âœ… æ–‡æ¡£æ›´æ–°å®Œæˆ

### Milestone 4: ç”Ÿäº§å°±ç»ªï¼ˆWeek 12+ï¼‰
- âœ… æ€§èƒ½ä¼˜åŒ–å®Œæˆ
- âœ… ç›‘æ§ç³»ç»Ÿéƒ¨ç½²
- âœ… æ‰€æœ‰ P0-P2 ä»»åŠ¡å®Œæˆ
- âœ… å¯ä»¥æ”¯æŒç”Ÿäº§ç¯å¢ƒä½¿ç”¨

---

## ğŸ“Š é¢„æœŸæ”¶ç›Šï¼ˆæ›´æ–°ï¼‰

### ä»£ç è´¨é‡æå‡
- âœ… ä»£ç å¯è¯»æ€§æå‡ **60%**
- âœ… ç»´æŠ¤æˆæœ¬é™ä½ **50%**
- âœ… æ–°åŠŸèƒ½å¼€å‘æ•ˆç‡æå‡ **40%**
- âœ… Bug ç‡é™ä½ **30%**
- âœ… æ–°äººä¸Šæ‰‹æ—¶é—´ç¼©çŸ­ **70%**

### åŠŸèƒ½æ‰©å±•èƒ½åŠ›
- âœ… æ”¯æŒ Agent è‡ªä¸»æ¨ç†
- âœ… æ”¯æŒ MCP å·¥å…·åè®®
- âœ… æ”¯æŒä»»æ„å·¥å…·æ‰©å±•
- âœ… æ”¯æŒå¤æ‚å¤šæ­¥éª¤ä»»åŠ¡
- âœ… ä¸ºæœªæ¥å¤šæ¨¡æ€ã€åˆ†å¸ƒå¼æ‰“ä¸‹åŸºç¡€

---

**æŠ¥å‘Šç”Ÿæˆ**: 2026-01-13  
**æœ€åæ›´æ–°**: 2026-01-13  
**å»ºè®®æ‰§è¡Œ**: ç«‹å³å¼€å§‹ P0 ä»»åŠ¡ï¼ˆWeek 1-2ï¼‰
